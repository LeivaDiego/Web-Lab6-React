<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kaiju Memory Game</title>

  <!-- Importar React, ReactDOM y Babel -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>

    /* Fuente personalizada */
    @font-face {
    font-family: "KaijuFont";
    src: url('./assets/fonts/Godzilla.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
    }

    /* Estilos generales */
    body {
      margin: 0;
      padding: 0;
      background: url('./assets/images/cracked-magma-texture.png') center/cover no-repeat fixed;
      font-family: 'Arial', sans-serif;
      color: black;
      text-align: center;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* Capa de opacidad para fondo */
    body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    z-index: -1;
    }

    /* Titulo */
    h1 {
      font-family: 'KaijuFont', sans-serif;
      font-size: 3rem;
      color: white;
      text-shadow: 2px 2px 2px black;
    }

    /* HUD */
    .hud {
      display: flex;
      justify-content: center;
      color: white;
      gap: 2rem;
      margin: 10px 0 20px;
      font-size: 1.2rem;
    }

    /* Contenedor principal */
    .game-container {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding-bottom: 30px;
    }

    /* Grid de cartas */
    .card-grid {
      display: grid;
      grid-template-columns: repeat(4, 150px);
      grid-gap: 25px;
      justify-content: center;
    }

    /* --- Cartas -- */
    /* Carta Base */
    .card {
        width: 150px;
        height: 150px;
        perspective: 1000px;
        transition: transform 0.3s ease-in;
    }

    /* Carta al pasar el mouse */
    .card:hover:not(.flipped) {
        transform: scale(1.05);
        box-shadow: 0 5px 25px rgba(255, 100, 0, 0.8);
    }

    .card.flipped:hover {
        transform: scale(1);
        box-shadow: none;
    }

    /* Interior de la carta */
    .card-inner {
        width: 100%;
        height: 100%;
        position: relative;
        transform-style: preserve-3d;
        transition: transform 0.6s ease;
    }

    /* Rotacion de la carta */
    .card-inner.flipped {
        transform: rotateY(180deg);
    }

    /* Caras de la carta */
    .card-front, .card-back {
        width: 100%;
        height: 100%;
        position: absolute;
        border-radius: 10px;
        border: 5px solid rgb(49, 49, 49);
        overflow: hidden;
        backface-visibility: hidden;
    }

    /* Cara frontal */
    .card-front {
        background: white;
        display: flex;
        align-items: center;
        justify-content: center;
        transform: rotateY(180deg);
    }

    /* Cara trasera */
    .card-back {
        background: url('./assets/images/light-rock-texture.png') center/cover no-repeat;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Icono de la carta */
    .card-back::after {
        content: '';
        background: url('./assets/images/kaiju-logo.png') center/cover no-repeat;
        width: 70%;
        height: 70%;
    }
  </style>
</head>

<body>
  <h1>Kaiju Memory Game</h1>
  
  <div class="hud">
    <div>‚è±Ô∏è Time: 0:00</div>
    <div>üïπÔ∏è Moves: 0</div>
    <div>üèÜ Best Score: --</div>
  </div>

  <div class="game-container">
    <div id="root"></div>
  </div>

  <script type="text/babel">
    // Componente de carta
    function Card({flipped, image, onClick}) {
        return (
            <div className={`card ${flipped ? 'flipped' : ''}`} onClick={onClick}>
                <div className={`card-inner ${flipped ? 'flipped' : ''}`}>
                    <div className="card-front">
                        <img 
                            src={image} 
                            alt="Kaiju" 
                            style={{ width: '100%', height: '100%' }} 
                        />
                    </div>
                    <div className="card-back"></div>
                </div>
            </div>
        );
    }

    // Componente principal del juego
    function MemoryGame() {
        const [cards, setCards] = React.useState([]); // Array de cartas
        const [flippedCards, setFlippedCards] = React.useState([]); // Cartas volteadas

        // Inicializar el juego con 16 cartas (8 pares)
        React.useEffect(() => {
            // Array de kaijus (im√°genes)
            const kaijus = [
                "anguirus", "baragon", "battra", "battra-larva", "biollante", "burning-godzilla",
                "destoroyah", "ebirah", "gabara", "gamera", "gigan", "godzilla-1989", "godzilla-2000",
                "godzilla-monsterverse", "godzilla-ultima", "gorosaurus", "gyaos", "hedorah",
                "jet-jaguar", "kamacura", "keizer-ghidorah", "king-caesar", "king-ghidorah", "kiryu",
                "kong", "kumonga", "little-godzilla", "manda", "mecha-king-ghidorah", "mechagodzilla",
                "megaguirus", "megalon", "minilla", "mogera", "monster-x", "mothra", "mothra-larva",
                "muto", "orga", "rodan", "salunga", "shin-godzilla", "skullcrawler", "spacegodzilla",
                "super-mechagodzilla", "titanosaurus"
            ];

            // Seleccionar 8 kaijus al azar y crear pares
            const selectedKaijus = [...kaijus].sort(() => 0.5 - Math.random()).slice(0, 8);

            // Crear pares de cartas
            const pairedCards = [...selectedKaijus, ...selectedKaijus].sort(() => 0.5 - Math.random());
            
            // Crear objetos de carta con ID e imagen
            const dummyCards = pairedCards.map((name, index) => ({
                id: index,
                image: `./assets/images/kaijus/${name}.png` // Ruta de la imagen
            }));
            
            // Setear las cartas en el estado
            setCards(dummyCards);
        }, []);


        // Manejo de clic en la carta
        function handleCardClick(id) {
            // Verificar si la carta ya est√° volteada o si hay dos cartas volteadas
            if (flippedCards.includes(id)) return ;
            // Actualizar el estado de las cartas volteadas
            setFlippedCards(prev => [...prev, id]);

            // TODO: L√≥gica para manejar el clic en la carta
        }

        // Renderizar las cartas
        return (
            <div className="card-grid">
                {cards.map(card => (
                    <Card 
                        key={card.id} 
                        image={card.image} 
                        flipped={flippedCards.includes(card.id)} // TODO: Cambiar seg√∫n el estado de la carta
                        onClick={() => handleCardClick(card.id)} 
                    />
                ))}
            </div>
        )
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<MemoryGame />);
  </script>
</body>
</html>